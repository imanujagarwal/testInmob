package com.inmobi.commons.core.utilities.uid;

import android.annotation.SuppressLint;
import android.content.Context;
import android.content.SharedPreferences;
import android.provider.Settings.Secure;
import android.provider.Settings.System;
import android.support.annotation.Nullable;
import com.google.android.gms.ads.identifier.AdvertisingIdClient;
import com.google.android.gms.ads.identifier.AdvertisingIdClient.Info;
import com.inmobi.commons.core.utilities.Logger;
import com.inmobi.commons.core.utilities.Logger.InternalLogLevel;
import com.inmobi.commons.core.utilities.f;
import java.security.MessageDigest;

public class c
{
  private static final String a = c.class.getSimpleName();
  
  private static final Object b = new Object();
  
  private static c c;
  private static a d;
  
  public static c a()
  {
    c localC1;
    if ((localC1 = c) == null) {
      synchronized (b)
      {
        if ((localC1 = c) == null)
        {
          c = localC1 = new c();
        }
      }
    }
    
    return localC2;
  }
  























  public static void c()
  {
    try
    {
      if (f.a("root"))
      {
        if ((localObject = 
        
















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































          d) != null) {
          if ((localObject = 
          


















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































            a) != null) {
            Logger.a(Logger.InternalLogLevel.DEBUG, a, "Publisher device Id is " + (String)localObject);
          }
        }
        return; }
      Object localObject = e();
      Logger.a(Logger.InternalLogLevel.DEBUG, a, "Publisher device Id is " + 
      
















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































        a((String)localObject, "SHA-1")); return;
    }
    catch (Exception localException)
    {
      new StringBuilder("SDK encountered an unexpected error attempting to print the publisher test ID; ").append(localException.getMessage());
    }
  }
  




  public static String d()
  {
    return "1";
  }
  

  static String a(String paramString1, String paramString2)
  {
    try
    {
      if ((paramString1 == null) || ("".equals(paramString1.trim()))) {
        return "TEST_EMULATOR";
      }
      

      (paramString2 = MessageDigest.getInstance(paramString2)).update(paramString1.getBytes());
      paramString1 = paramString2.digest();
      

      paramString2 = new StringBuffer();
      for (int i = 0; i < paramString1.length; i++) {
        paramString2.append(Integer.toString((paramString1[i] & 0xFF) + 256, 16).substring(1));
      }
      
      return paramString2.toString();
    }
    catch (Exception paramString2) {
      new StringBuilder("SDK encountered an unexpected error attempting to get digested UID; ").append(paramString2.getMessage());
    }
    
    return null;
  }
  





  @SuppressLint({"HardwareIds"})
  static String e()
  {
    String str = "";
    Context localContext;
    if ((localContext = com.inmobi.commons.a.a.b()) != null)
    {
      try
      {

        if ((str = Settings.Secure.getString(localContext.getContentResolver(), "android_id")) == null) {
          str = Settings.System.getString(localContext.getContentResolver(), "android_id");
        }
      }
      catch (Exception localException) {
        str = "";
      }
    }
    

    return str;
  }
  
  static a f() {
    return d;
  }
  
  private static boolean j() {
    try {
      AdvertisingIdClient.class.getName();
    } catch (NoClassDefFoundError localNoClassDefFoundError) {
      return false;
    }
    return true;
  }
  
  public final void b()
  {
    c localC = this;
    
















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    try
    {
      final b localB1 = new b();
      




























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































      aa = a.c("adv_id");
      







      b localB2;
      







      String str = "limit_ad_tracking";
      












































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































      db = (a.a.contains(str) ? Boolean.valueOf(a.b("limit_ad_tracking", true)) : null);
      if ((f.a("root")) && (j()))
      {
















        new Thread(new Runnable()
        {
          public final void run()
          {
            try
            {
              AdvertisingIdClient.Info localInfo;
              String str = (localInfo = AdvertisingIdClient.getAdvertisingIdInfo(com.inmobi.commons.a.a.b())).getId();
              boolean bool = localInfo.isLimitAdTrackingEnabled();
              








































































































































































































































































































































































































































































































































































































































































































































































































































































              ha = str;
              




              localB1a.a("adv_id", str);
              
























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































              hb = Boolean.valueOf(bool);
              




















              localB1a.a("limit_ad_tracking", bool);
            }
            catch (Exception localException)
            {
              c.i();new StringBuilder("SDK encountered unexpected error in trying to set the advertising ID ")
              
                .append(localException.getMessage());
            }
          }
        })
        















          .start();
      }
      





































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































      return;
    }
    catch (Exception localException)
    {
      new StringBuilder("SDK encountered unexpected error in setting the advertising ID; ").append(localException.getMessage());
    }
  }
  
  @Nullable
  public static Boolean g()
  {
    a();
    a localA; if ((localA = 
    


















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































      d) == null)
      return null; return 
    














































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































      b;
  }
  
  private c() {}
}
